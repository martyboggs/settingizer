<script>
function getDataKeys(index) {
	// gets all data keys including those from sibling/cousin elements
	var value = data;
	var keys = [];
	for (var i = 0; i < index.length; i += 1) {
		if (value) {
			value = value[index[i]];
			if (i === index.length - 1 && value) {
				keys = Object.keys(value);
			}
		}
	}
	var otherIndex = index.concat();
	var otherValue;
	var distance;
	var nextDistance = 0;
	if (index.length === 0) return keys;

	while (1) {
		for (var i = 0; i < otherIndex.length; i += 1) {
			if (i >= nextDistance && !isNaN(otherIndex[i])) {
				otherIndex[i] += 1;
				distance = i;
				break;
			} else {
				return keys;
			}
		}

		otherValue = data;
		for (var i = 0; i < otherIndex.length; i += 1) {
			if (otherValue) {
				otherValue = otherValue[otherIndex[i]];
				if (i === otherIndex.length - 1 && otherValue) {
					keys = concatUnique(keys, Object.keys(otherValue));
				}
			} else {
				if (i === distance + 1) {
					otherIndex[distance] = 0;
					nextDistance = distance + 1;
				}
				break;
			}
		}
	}
	return keys;
}

function concatUnique(a, b) {
	if (!a && !b) return [];
	if (!b) return a;
	if (!a) return b;
	var arr = a;
	for (var i = 0; i < b.length; i += 1) {
		if (arr.indexOf(b[i]) === -1) arr.push(b[i]);
	}
	return arr;
}

var data = [{"id":"d8dfd1ca-1e21-46c6-88a5-72680e1bfcbb","title":"balls","descriptionTop":"<p>.,m.,mmm,</p>\n<p>&nbsp;</p>\n<p>,m.,m<img src=\"https://cdn.shopify.com/s/files/1/0797/6895/t/20/assets/scr-d8dfd1ca-1e21-46c6-88a5-72680e1bfcbb-AUSTINACTIVE_FINAL_-02copy.png?15795550668089307553\" alt=\"\" width=\"3001\" height=\"664\" /></p>","values":[["1","2","3"],["okbro","","sdfsdf"]],"descriptionBottom":"<p><img src=\"https://cdn.shopify.com/s/files/1/0797/6895/t/20/assets/scr-d8dfd1ca-1e21-46c6-88a5-72680e1bfcbb-appstore.png?12598548905562463663\" alt=\"\" width=\"300\" height=\"100\" /></p>","buttonPlacement":"above-atc","conditions":[{"type":"collection","id":445221511,"title":"Frontpage"},{"type":"collection","id":79991701552,"title":"Products"}]},{"id":"06ad447f-8639-47cb-b24c-7d1cebc7668b","title":"","descriptionTop":"<p><img style=\"float: right;\" src=\"https://cdn.shopify.com/s/files/1/0797/6895/t/20/assets/scr-06ad447f-8639-47cb-b24c-7d1cebc7668b-appstore.png?8574385599155832589\" alt=\"\" width=\"300\" height=\"100\" /></p>","values":[["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""]],"descriptionBottom":"","buttonPlacement":"above-atc","conditions":[]},{"id":"e47eeaca-5501-4401-9b4f-c9a5903c6dda","title":"","descriptionTop":"<p><img src=\"https://cdn.shopify.com/s/files/1/0797/6895/t/20/assets/scr-e47eeaca-5501-4401-9b4f-c9a5903c6dda-BCP_multipleselection.png?5405499835884832029\" alt=\"\" width=\"1653\" height=\"930\" /></p>","values":[["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""],["","","","","","",""]],"descriptionBottom":"","buttonPlacement":"above-atc","conditionsOperator":"any-conditions"/*,"conditions":[]*/}];
var index = [0, 'conditions', 0];
console.log(data);
console.log(getDataKeys(index));
</script>